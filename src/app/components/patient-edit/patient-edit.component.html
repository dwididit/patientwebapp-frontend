# patient-edit.component.html
<div class="container p-4">
  <div class="card">
    <div class="card-header">
      <h2>Edit Patient</h2>
    </div>
    <div class="card-body">
      <!-- Loading Spinner -->
      <div *ngIf="loading" class="text-center my-4">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>

      <!-- Error Message -->
      <div *ngIf="error" class="alert alert-danger">
        {{ error }}
      </div>

      <!-- Success Message -->
      <div *ngIf="success" class="alert alert-success">
        {{ success }}
      </div>

      <!-- Edit Form -->
      <form *ngIf="!loading && patient.pid" (ngSubmit)="updatePatient()">
        <div class="row">
          <!-- Personal Information -->
          <div class="col-md-6">
            <h4 class="mb-3">Personal Information</h4>

            <div class="mb-3">
              <label class="form-label">Patient ID</label>
              <input type="text" class="form-control" [value]="patient.pid" disabled>
            </div>

            <div class="mb-3">
              <label class="form-label">First Name</label>
              <input type="text" class="form-control" [(ngModel)]="patient.firstName" name="firstName" required>
            </div>

            <div class="mb-3">
              <label class="form-label">Last Name</label>
              <input type="text" class="form-control" [(ngModel)]="patient.lastName" name="lastName" required>
            </div>

            <div class="mb-3">
              <label class="form-label">Date of Birth</label>
              <input type="date" class="form-control" [(ngModel)]="patient.dateOfBirth" name="dateOfBirth" required>
            </div>

            <div class="mb-3">
              <label class="form-label">Gender</label>
              <select class="form-select" [(ngModel)]="patient.gender" name="gender" required>
                <option value="">Select Gender</option>
                <option *ngFor="let gender of genders" [value]="gender">{{gender}}</option>
              </select>
            </div>

            <div class="mb-3">
              <label class="form-label">Phone Number</label>
              <input type="tel" class="form-control" [(ngModel)]="patient.phoneNumber" name="phoneNumber" required>
            </div>
          </div>

          <!-- Address Information -->
          <div class="col-md-6">
            <h4 class="mb-3">Address Information</h4>

            <div class="mb-3">
              <label class="form-label">Street Address</label>
              <input type="text" class="form-control" [(ngModel)]="patient.address" name="address" required>
            </div>

            <div class="mb-3">
              <label class="form-label">Suburb</label>
              <input type="text" class="form-control" [(ngModel)]="patient.suburb" name="suburb" required>
            </div>

            <div class="mb-3">
              <label class="form-label">State</label>
              <select class="form-select" [(ngModel)]="patient.state" name="state" required>
                <option value="">Select State</option>
                <option *ngFor="let state of states" [value]="state">{{state}}</option>
              </select>
            </div>

            <div class="mb-3">
              <label class="form-label">Postcode</label>
              <input type="text" class="form-control" [(ngModel)]="patient.postcode" name="postcode" required>
            </div>
          </div>
        </div>

        <!-- Form Actions -->
        <div class="mt-4 d-flex justify-content-end gap-2">
          <button type="button" class="btn btn-secondary" (click)="cancel()">Cancel</button>
          <button type="submit" class="btn btn-primary" [disabled]="loading">
            {{ loading ? 'Updating...' : 'Update Patient' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
